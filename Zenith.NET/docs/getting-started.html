<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Getting Started | Zenith.NET Documentation </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Getting Started | Zenith.NET Documentation ">
      
      
      <link rel="icon" href="../images/Zenith.NET.png">
      <link rel="stylesheet" href="../public/docfx.min.css">
      <link rel="stylesheet" href="../public/main.css">
      <meta name="docfx:navrel" content="../toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      <meta name="docfx:rel" content="../">
      
      
      <meta name="docfx:docurl" content="https://github.com/qian-o/Zenith.NET/blob/refactor/views-render-thread/documents/docs/getting-started.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../index.html">
            <img id="logo" class="svg" src="../images/Zenith.NET.svg" alt="Zenith.NET">
            Zenith.NET
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="getting-started">Getting Started</h1>

<p>This guide will help you create a simple Hello Triangle application using Zenith.NET with Silk.NET windowing.</p>
<blockquote>
<p><strong>Note</strong>: You can also use other supported UI frameworks (Avalonia, MAUI, WinForms, WinUI, WPF) or any window library that can provide a native window handle. However, we recommend using Silk.NET for its simplicity and cross-platform support.</p>
</blockquote>
<h2 id="prerequisites">Prerequisites</h2>
<ul>
<li>.NET 10 or later</li>
<li>A GPU that supports DirectX 12, Metal, or Vulkan</li>
</ul>
<h2 id="create-a-new-project">Create a New Project</h2>
<pre><code class="lang-bash">dotnet new console -n HelloTriangle
cd HelloTriangle
</code></pre>
<h2 id="install-packages">Install Packages</h2>
<pre><code class="lang-bash"># Core library
dotnet add package Zenith.NET

# Backend (choose one based on your platform)
dotnet add package Zenith.NET.DirectX12  # Windows
dotnet add package Zenith.NET.Vulkan     # Windows, Linux, Android
dotnet add package Zenith.NET.Metal      # macOS, iOS

# Shader compiler
dotnet add package Zenith.NET.Extensions.Slang

# Windowing
dotnet add package Silk.NET.Windowing
dotnet add package Silk.NET.Input
</code></pre>
<h2 id="project-structure">Project Structure</h2>
<pre><code>HelloTriangle/
├── Program.cs
└── Shaders/
    └── Triangle.slang
</code></pre>
<h2 id="write-the-shader">Write the Shader</h2>
<p>Create <code>Shaders/Triangle.slang</code>:</p>
<pre><code class="lang-hlsl">struct VSInput
{
    float3 Position : POSITION;
    float4 Color : COLOR;
};

struct VSOutput
{
    float4 Position : SV_Position;
    float4 Color : COLOR;
};

[shader(&quot;vertex&quot;)]
VSOutput VSMain(VSInput input)
{
    VSOutput output;
    output.Position = float4(input.Position, 1.0);
    output.Color = input.Color;
    return output;
}

[shader(&quot;pixel&quot;)]
float4 PSMain(VSOutput input) : SV_Target
{
    return input.Color;
}
</code></pre>
<h2 id="write-the-application">Write the Application</h2>
<p>Replace <code>Program.cs</code> with the following code:</p>
<pre><code class="lang-csharp">using System.Numerics;
using System.Runtime.InteropServices;
using Silk.NET.Windowing;
using Zenith.NET;
using Zenith.NET.DirectX12;
using Zenith.NET.Extensions.Slang;
using Zenith.NET.Metal;
using Zenith.NET.Vulkan;
using Buffer = Zenith.NET.Buffer;

// Create window
IWindow window = Window.Create(WindowOptions.Default with
{
    Title = &quot;Hello Triangle - Zenith.NET&quot;,
    Size = new(1280, 720),
    API = GraphicsAPI.None  // We manage graphics ourselves
});

// Graphics resources (initialized in window.Load)
GraphicsContext context = null!;
SwapChain swapChain = null!;
Buffer vertexBuffer = null!;
GraphicsPipeline pipeline = null!;

window.Load += () =&gt;
{
    // Create graphics context
    if (OperatingSystem.IsWindows())
    {
        context = GraphicsContext.CreateDirectX12(useValidationLayer: true);
    }
    else if (OperatingSystem.IsLinux())
    {
        context = GraphicsContext.CreateVulkan(useValidationLayer: true);
    }
    else if (OperatingSystem.IsMacOS())
    {
        context = GraphicsContext.CreateMetal(useValidationLayer: true);
    }

    // Listen to validation messages
    context.ValidationMessage += (sender, args) =&gt;
    {
        Console.WriteLine($&quot;[{args.Source} - {args.Severity}] {args.Message}&quot;);
    };

    // Create swap chain
    Surface surface;
    if (OperatingSystem.IsWindows())
    {
        surface = Surface.Win32(window.Native!.Win32!.Value.Hwnd, (uint)window.Size.X, (uint)window.Size.Y);
    }
    else if (OperatingSystem.IsLinux())
    {
        surface = Surface.Xlib(window.Native!.X11!.Value.Display, (nint)window.Native.X11.Value.Window, (uint)window.Size.X, (uint)window.Size.Y);
    }
    else
    {
        throw new PlatformNotSupportedException();
    }

    swapChain = context.CreateSwapChain(new()
    {
        Surface = surface,
        ColorTargetFormat = PixelFormat.R8G8B8A8UNorm,
        DepthStencilTargetFormat = PixelFormat.D24UNormS8UInt
    });

    // Create vertex buffer with triangle data
    // Note: Vertices are in counter-clockwise order (front face)
    Vertex[] vertices =
    [
        new(new( 0.0f,  0.5f, 0.0f), new(1.0f, 0.0f, 0.0f, 1.0f)),  // Top - Red
        new(new(-0.5f, -0.5f, 0.0f), new(0.0f, 1.0f, 0.0f, 1.0f)),  // Left - Green
        new(new( 0.5f, -0.5f, 0.0f), new(0.0f, 0.0f, 1.0f, 1.0f))   // Right - Blue
    ];

    vertexBuffer = context.CreateBuffer(new()
    {
        SizeInBytes = (uint)(Marshal.SizeOf&lt;Vertex&gt;() * vertices.Length),
        StrideInBytes = (uint)Marshal.SizeOf&lt;Vertex&gt;(),
        Flags = BufferUsageFlags.Vertex
    });
    vertexBuffer.Upload(vertices, 0);

    // Load shaders using Slang
    string shaderPath = Path.Combine(AppContext.BaseDirectory, &quot;Shaders&quot;, &quot;Triangle.slang&quot;);

    using Shader vertexShader = context.LoadShaderFromFile(shaderPath, &quot;VSMain&quot;, ShaderStageFlags.Vertex);
    using Shader pixelShader = context.LoadShaderFromFile(shaderPath, &quot;PSMain&quot;, ShaderStageFlags.Pixel);

    // Create graphics pipeline
    pipeline = context.CreateGraphicsPipeline(new()
    {
        RenderStates = new()
        {
            RasterizerState = RasterizerStates.CullBack,
            DepthStencilState = DepthStencilStates.None,
            BlendState = BlendStates.Opaque
        },
        Vertex = vertexShader,
        Pixel = pixelShader,
        ResourceLayouts = [],
        InputLayouts = [Vertex.GetInputLayout()],
        PrimitiveTopology = PrimitiveTopology.TriangleList,
        Output = swapChain.FrameBuffer.Output
    });
};

window.Render += delta =&gt;
{
    if (window.Size.X == 0 || window.Size.Y == 0)
    {
        return;
    }

    // Get command buffer
    CommandBuffer cmd = context.Graphics.CommandBuffer();

    // Begin render pass with clear color
    cmd.BeginRenderPass(swapChain.FrameBuffer, new ClearValue
    {
        ColorValues = [new(0.1f, 0.1f, 0.1f, 1.0f)],
        Depth = 1.0f,
        Stencil = 0,
        Flags = ClearFlags.Color | ClearFlags.Depth | ClearFlags.Stencil
    });

    // Set pipeline and draw
    cmd.SetPipeline(pipeline);
    cmd.SetVertexBuffer(vertexBuffer, 0, 0);
    cmd.Draw(vertexCount: 3, instanceCount: 1, firstVertex: 0, firstInstance: 0);

    // End render pass
    cmd.EndRenderPass();

    // Submit and wait
    cmd.Submit(waitForCompletion: true);

    // Present
    swapChain.Present();
};

window.Resize += size =&gt;
{
    if (size.X == 0 || size.Y == 0)
    {
        return;
    }

    swapChain.Resize((uint)size.X, (uint)size.Y);
};

window.Closing += () =&gt;
{
    // Wait for GPU to finish
    context.Graphics.WaitIdle();

    // Dispose resources in reverse order
    pipeline.Dispose();
    vertexBuffer.Dispose();
    swapChain.Dispose();
    context.Dispose();
};

// Center and run
window.Initialize();
window.Center();
window.Run();

// Define vertex structure
[StructLayout(LayoutKind.Sequential)]
struct Vertex(Vector3 position, Vector4 color)
{
    public Vector3 Position = position;

    public Vector4 Color = color;

    public static InputLayout GetInputLayout()
    {
        InputLayout layout = new();
        layout.Add(new() { Format = ElementFormat.Float3, Semantic = ElementSemantic.Position });
        layout.Add(new() { Format = ElementFormat.Float4, Semantic = ElementSemantic.Color });

        return layout;
    }
}
</code></pre>
<h2 id="build-and-run">Build and Run</h2>
<p>Make sure to copy the shader file to the output directory. Add this to your <code>.csproj</code>:</p>
<pre><code class="lang-xml">&lt;ItemGroup&gt;
    &lt;None Update=&quot;Shaders\**\*&quot;&gt;
        &lt;CopyToOutputDirectory&gt;PreserveNewest&lt;/CopyToOutputDirectory&gt;
    &lt;/None&gt;
&lt;/ItemGroup&gt;
</code></pre>
<p>Then build and run:</p>
<pre><code class="lang-bash">dotnet run
</code></pre>
<p>You should see a window with a colorful triangle!</p>
<h2 id="next-steps">Next Steps</h2>
<p>Check out the <a href="https://github.com/qian-o/Zenith.NET/tree/master/sources/Experiments/SponzaScene">SponzaScene</a> example for a complete deferred rendering pipeline.</p>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/qian-o/Zenith.NET/blob/refactor/views-render-thread/documents/docs/getting-started.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          <span>Made with <a href="https://dotnet.github.io/docfx">docfx</a></span>
        </div>
      </div>
    </footer>
  </body>
</html>
